<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes">
    <title>–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--tg-theme-bg-color, #f0f0f0);
            color: var(--tg-theme-text-color, #000000);
        }
        .image-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            padding-bottom: 80px;
        }
        .image-wrapper {
            margin-bottom: 20px;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        img {
            width: 100%;
            height: auto;
            display: block;
        }
        .actions {
            position: absolute;
            bottom: 10px;
            right: 10px;
            display: flex;
            gap: 8px;
        }
        .action-button {
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: opacity 0.3s;
        }
        .action-button:hover {
            opacity: 0.9;
        }
        .action-button:active {
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <div class="image-wrapper">
            <img src="image1.jpg" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 1" data-filename="image1.jpg">
            <div class="actions">
                <button onclick="downloadImage(this)" class="action-button">üì• –°–∫–∞—á–∞—Ç—å</button>
                <button onclick="shareImage(this)" class="action-button">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            </div>
        </div>
        <div class="image-wrapper">
            <img src="image2.jpg" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 2" data-filename="image2.jpg">
            <div class="actions">
                <button onclick="downloadImage(this)" class="action-button">üì• –°–∫–∞—á–∞—Ç—å</button>
                <button onclick="shareImage(this)" class="action-button">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            </div>
        </div>
        <div class="image-wrapper">
            <img src="image3.jpg" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 3" data-filename="image3.jpg">
            <div class="actions">
                <button onclick="downloadImage(this)" class="action-button">üì• –°–∫–∞—á–∞—Ç—å</button>
                <button onclick="shareImage(this)" class="action-button">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            </div>
        </div>
        <div class="image-wrapper">
            <img src="image4.jpg" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 4" data-filename="image4.jpg">
            <div class="actions">
                <button onclick="downloadImage(this)" class="action-button">üì• –°–∫–∞—á–∞—Ç—å</button>
                <button onclick="shareImage(this)" class="action-button">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function downloadImage(button) {
            const img = button.closest('.image-wrapper').querySelector('img');
            const filename = img.dataset.filename;
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ Telegram –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
            tg.downloadFile(img.src, filename);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –¥—Ä—É–≥–æ–π —á–∞—Ç
        function shareImage(button) {
            const img = button.closest('.image-wrapper').querySelector('img');
            
            // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
            const message = {
                type: 'photo',
                media: img.src
            };
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ Telegram –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞
            tg.shareMessage(message);
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
        let currentScale = 1;
        let startDistance = 0;
        let isScaling = false;

        document.addEventListener('touchstart', function(e) {
            if (e.touches.length === 2) {
                e.preventDefault();
                isScaling = true;
                startDistance = getDistance(e.touches[0], e.touches[1]);
            }
        }, { passive: false });

        document.addEventListener('touchmove', function(e) {
            if (e.touches.length === 2 && isScaling) {
                e.preventDefault();
                const currentDistance = getDistance(e.touches[0], e.touches[1]);
                const scale = currentDistance / startDistance;
                const newScale = Math.min(Math.max(currentScale * scale, 0.5), 3);
                document.body.style.transform = `scale(${newScale})`;
            }
        }, { passive: false });

        document.addEventListener('touchend', function(e) {
            if (e.touches.length < 2) {
                isScaling = false;
                currentScale = parseFloat(document.body.style.transform?.replace('scale(', '')) || 1;
            }
        });

        function getDistance(touch1, touch2) {
            const dx = touch1.clientX - touch2.clientX;
            const dy = touch1.clientY - touch2.clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }
    </script>
</body>
</html> 
